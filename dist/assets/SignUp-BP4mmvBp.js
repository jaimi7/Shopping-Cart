import{c as h,a as u,b as q,F as L,d,r as x,e as k}from"./index.esm-BO0iQwEr.js";import{u as A,r as o,a as Y,d as n,m as U,f as l,h as j,n as B,i,b as a,e as N,t as m,j as r,k as R,l as C}from"./index-DH-GfHcV.js";import{r as z,i as Z,a as D}from"./index-CN-DPHDF.js";const O={class:"w-screen h-screen flex items-center"},T={class:"auth-detail"},G={class:"error-message"},H={class:"error-message"},I={class:"error-message"},J={class:"input bg-white flex justify-between"},K={class:"error-message"},M={class:"input bg-white flex justify-between"},Q={class:"error-message"},W=["disabled"],ae={__name:"SignUp",setup(X){const S=A(),E=j(),p=o(!1),g=o(null),y=o(null),c=o(null),f=o(null),P=o(null),w=o(!1),v=o(!1),F=h({FirstName:u().required("First name is a required field").max(50,"First name must be at most 50 characters"),LastName:u().required("Last name is a required field").max(50,"First name must be at most 50 characters"),Email:u().required().email(),Password:u().required().min(8).matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"),ConfirmPassword:u().required("Confirm Password is required").oneOf([q("Password"),""],"Passwords must match")}),$=async()=>{p.value=!0;const V={firstName:g.value,lastName:y.value,email:c.value,password:f.value};await Z.post(D.signUp,V).then(({data:e})=>{S.sessionStore({password:f.value,email:c.value}),C.success((e==null?void 0:e.message)??"User Sign Up Success!"),E.push("/login")}).catch(e=>{var b,s;C.error(((s=(b=e==null?void 0:e.response)==null?void 0:b.data)==null?void 0:s.message)??"User Can't Sign Up!")}).finally(()=>{p.value=!1})};return(V,e)=>{const b=B("RouterLink");return i(),Y("div",O,[n(l(L),{onSubmit:$,"validation-schema":l(F),class:"auth"},{default:U(({errors:s})=>[e[10]||(e[10]=a("h1",{class:"auth-title"},"Sign Up",-1)),a("p",T,[e[8]||(e[8]=N(" Already have an account? ")),n(b,{to:"/login",class:"route-link"},{default:U(()=>e[7]||(e[7]=[N("Login")])),_:1})]),e[11]||(e[11]=a("label",{for:"firstName",class:"label"},"First Name",-1)),n(l(d),{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t),type:"text",name:"FirstName",id:"firstName",class:"input",placeholder:"Enter Your First Name"},null,8,["modelValue"]),a("p",G,m(s==null?void 0:s.FirstName),1),e[12]||(e[12]=a("label",{for:"lastName",class:"label"},"Last Name",-1)),n(l(d),{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=t=>y.value=t),type:"text",name:"LastName",id:"lastName",class:"input",placeholder:"Enter Your Last Name"},null,8,["modelValue"]),a("p",H,m(s==null?void 0:s.LastName),1),e[13]||(e[13]=a("label",{for:"email",class:"label"},"Email Address",-1)),n(l(d),{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),type:"email",name:"Email",id:"email",class:"input",placeholder:"Enter Your Email Address"},null,8,["modelValue"]),a("p",I,m(s==null?void 0:s.Email),1),e[14]||(e[14]=a("label",{for:"password",class:"label"},"Password",-1)),a("div",J,[n(l(d),{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=t=>f.value=t),type:w.value?"text":"password",name:"Password",id:"password",class:"text-gray-900 placeholder:text-gray-400 focus:outline-none w-full",placeholder:"Enter Your Password"},null,8,["modelValue","type"]),a("div",{class:"pl-2",onClick:e[4]||(e[4]=t=>w.value=!w.value)},[w.value?(i(),r(l(x),{key:0,class:"password-icon"})):(i(),r(l(k),{key:1,class:"password-icon"}))])]),a("p",K,m(s==null?void 0:s.Password),1),e[15]||(e[15]=a("label",{for:"confirmPassword",class:"label"},"Confirm Password",-1)),a("div",M,[n(l(d),{modelValue:P.value,"onUpdate:modelValue":e[5]||(e[5]=t=>P.value=t),type:v.value?"text":"password",name:"ConfirmPassword",id:"confirmPassword",class:"text-gray-900 placeholder:text-gray-400 focus:outline-none w-full",placeholder:"Enter Your Confirm Password"},null,8,["modelValue","type"]),a("div",{class:"pl-2",onClick:e[6]||(e[6]=t=>v.value=!v.value)},[v.value?(i(),r(l(x),{key:0,class:"password-icon"})):(i(),r(l(k),{key:1,class:"password-icon"}))])]),a("p",Q,m(s==null?void 0:s.ConfirmPassword),1),a("button",{type:"submit",class:"button flex items-center justify-center w-full mt-8",disabled:p.value},[e[9]||(e[9]=N(" Sign Up ")),p.value?(i(),r(l(z),{key:0,class:"loading-btn"})):R("",!0)],8,W)]),_:1},8,["validation-schema"])])}}};export{ae as default};
